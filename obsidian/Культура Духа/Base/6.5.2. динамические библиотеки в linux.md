Tags: 
***
### как работает
- при запуске программы  у нее добавляется специальная сеция, которая описывает зависимый бинарник. он находится в Mmap в виде виртуального адреса библеотек, и они запустятся (будет происходить релокация) во время выполнения программы (рантайм система);

#### бинарник состоит из.. (GOT)
- TEXT - остается только на чтение, поэтому ее можно ретранслировать в память других программ (здесь нельзя делать релокацию);
	- используется косвенная адресация (использование таблицы GOT) - фиксированное значение смещение в секцию DATA, где записан адрес до переменной;
	![[Pasted image 20220702105653.png]]
- DATA - секция данный, которую можно изменять. она подгружвается во время запуска программы;
	- содержит секцию GOT;

#### вызов в программе бинарника (PLT) - ленивое связывание

PLT - procedure linkech table - используется для того, чтобы подгружаться только те функции библиотеки, которые нам нужны;

![[Pasted image 20220702110938.png]]

1) в программе мы вызываем функцию и прыгаем в PLT;
2) она нас перебрасывает в GOT, но так как там изначально ничего нет мы перепрыгиваем в функцию resolver;
3) при вызове функции resolver у нас запишется нужный адрес нужной функции библиотеки в GOT;
4) далее продевываем первый пункт;
5) мы переходим в GOT, а после по нужному адресу в функцию;

![[Pasted image 20220702133505.png]]


#### как собирается

![[Pasted image 20220702092545.png]]

- доллар ставится там, где мы хотим отобразить то, что в переменной хранится;

***
#### Zero_Link
- [[00 Библиотека]]
***
### Links
Up:

Down:
[[6.5.2..динамические библиотеки в linux -- практика]]

[[6.5.2.1. загрузка динамических библиотек во время выполнения программы]]
[[6.5.2.2. версионность библиотек]]
[[6.5.2.3. переменные среды окружения динамических библиотек]]

