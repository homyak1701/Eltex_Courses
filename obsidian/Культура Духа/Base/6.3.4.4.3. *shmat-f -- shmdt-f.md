Tags: #
***
###
![[Pasted image 20220904135950.png]]

#### -- аргументы --  
1) идентификатор разделяемой памяти
2) адрес, начиная с которого в своем адресном пространтсве эта страница была видна (лучше стаыить ноль -> система сама выберет адрес; даже если вы указали адрес, система сама может настроить адрес под себя);
3) флаги;

#### -- флаги --
Функция **shmat** подстыковывает сегмент разделяемой памяти **shmid** к адресному пространству вызывающего процесса. Адрес подстыковываемого сегмента определяется _shmaddr_ с помощью одного из перечисленных ниже критериев:

- Если _shmaddr_ равен **NULL**, то система выбирает для подстыкованного сегмента подходящий (неиспользованный) адрес.
- Если _shmaddr_ не равен **NULL**, а в поле _shmflg_ включен флаг **SHM_RND**, то подстыковка производится по адресу _shmaddr_, округленному вниз до ближайшего кратного **SHMLBA**. В противном случае _shmaddr_ должен быть округленным до размера страницы адресом, к которому производится подстыковка.
- Если в поле _shmflg_ включен флаг **SHM_RDONLY**, то подстыковываемый сегмент будет доступен только для чтения, и вызывающий процесс должен иметь права на чтение этого сегмента. Иначе, сегмент будет доступен для чтения и записи, и у процесса должны быть соответствующие права. Сегментов "только-запись" не существует.
- Флаг **SHM_REMAP** (специфичный для Linux) может быть указан в _shmflg_ для обозначения того, что распределение сегмента должно замещать любые существующие распределения в диапазоне, начиная с _shmaddr_ и до размера сегмена. (Обычно выдается ошибка **EINVAL** если уже существует распределение в этом диапазоне адресов.) В этом случае _shmaddr_ не должно быть равно **NULL**.

#### -- возвратное значение --
- она возвращает адрес на буфер 

***
#### Zero_Link
- 
***
### Links
Up:

Down:


