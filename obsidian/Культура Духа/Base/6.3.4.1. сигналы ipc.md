Tags:
***
#### -- определение --
сигнал - один из вариантов IPC, чтобы один процесс мог сообщить другому о происхождения какого-либо события;

- посмотреть все сиглалы (kill -l)

#### -- API по работе с сигналами --

[[6.3.4.1.3. raise()]] - посылает сигнал вызвавшему потоку;
[[6.3.4.1.4. kill()]] - посылает сигнал указанному процессу, всем членам указанной группы процессов или всем процессам в системе;
[[6.3.4.1.5. killpg()]] - посылает сигнал всем членам указанной группы процессов;
[[6.3.4.1.6. pthread_kil()]] - посылает сигнал указанному потоку в том же процессе, что и вызывающий
[[6.3.4.1.7. sigqueue()]] - посылает сигнал реального времени указанному процессу 
[[6.3.4.1.8. pause()]] - приостанавливает выполнение до тех пор, пока не будет пойман любой сигнал;
[[6.3.4.1.9. sigsuspend()]] - временно изменяет маску сигналов и приостанавливает выполнение до получения одного из незамаскированных сигналов;

#### -- виды сигналов -- 
- SIGHUP - получаем в момент когда произошел разрыв по кон. порту;
- SIGINT - прерывание программы (ctrl + c) (можно переопределять);
- SIGQUIT - завершение программы; 
- SIGTRAP - посылается отладчиком, чтобы завершить программу;
- SIGABRT - приостановить программу аварийно, при этом делая генерациб coredump (corefile - снимок оперативной памяти вашей программы в формате для отладчика);
- SIGKILL - принудительное завершение программы (нельзя заблокировать/переопределить)
- SIGUSR1/SIGUSR2 - Определяемый пользователем сигнал 1/2
- SIGSEGV - ошибка сегментации;
- SIGPIPE - проблема закрытия канала;
- SIGALARM - на уровне ядра устанавливается таймер / сигнал таймера таймера будильника;
- SIGTERM - гладкое завершение (можно перехватить и переопределить так, чтобы программа завершилась подтирая все ресурсы)
- SIGCHILD - сигнал для родителя, когда завершает дочерний процесс;
- SIGCOUNT / SIGSTOP - используется диспетчером задач, чтобы остановить и продолжить выполнение программы;
- SIGIO - для синхронного ввода-вывода;

![[Pasted image 20220823162046.png]]


#### -- сигнальная маска -- 
сигнальная маска - инструкция, которая хранится в потоке и определяет набор заблокированных сигналов

[[6.3.4.1.10. pthread_sigmask()]] - управление сигнальной маской потоком;
[[6.3.4.1.11 sigprocmask()]] - управление сигнальной маской процессом

#### -- обработчик сигналов --
**_Обработчик сигнала_** - набор инструкций, которым передаются управление и определяет поведение процесса при отсылке ему этого сигнала. 
- term - завершение процесса;
- ign - игнорирование сигнала;
- core - завершение процесса и вывод дампа в файл. (corefile - снимок оператиной памяти вашей программы в формате для отладчика)
- stop - остановка процесса;
- cont - продолжение работы процесса, если он в данный момент остановлен

Каждому процессу назначаются обработчики «по умолчанию», в большинстве случаев приводящие к завершению процесса.

#### API обработчика сигнала
главная задача изменить деспозицию сигнала, т. е. информацию об игнорировании (IGNORED), перехвате (CAUGHT), временной блокировке (BLOCKED) или ожидании доставки (PENDING) сигналов процессов можно получить при помощи команды ps(1), как показано в листинге ниже.

Диспозиция изображается битовой маской, где каждый N-Pi бит маски (нумерация от младших к старшим) соответствует сигналу N.

[[6.3.4.1.1.sigaction()]]
[[6.3.4.1.2. signal()]] -> усталера
***
#### Zero_Link
- 
***
### Links
Up:

Down:

