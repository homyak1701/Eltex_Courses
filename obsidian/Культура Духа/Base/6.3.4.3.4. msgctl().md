Tags: #
***
###
![[Pasted image 20220825204339.png]]
Эта функция выполняет контрольную операцию, заданную в _cmd_, над очередью сообщений _msqid_. Возможные значения _cmd_:

- **IPC_STAT**
	- Скопировать информацию из структуры данных очереди сообщений, ассоциированных с _msqid_ в структуру с адресом _buf_ (причем, у вызывающего должны быть права на чтение очереди сообщений).

- **IPC_SET** (настройки относительно дескриптора)
	- Записать значения некоторых элементов структуры **msqid_ds ,** адрес которой указан в _buf_, в структуру данных из очереди сообщений, обновляя при этом его поле **msg_ctime**.
	- Вызывающий процесс должен иметь соответствующие (вероятнее всего для root) привилегии или его действующий идентификатор пользователя должен соответствовать создателю (_msg_perm.cuid_) или владельцу (_msg_perm.uid_) очереди сообщений. Соответствующие (root) привилегии требуются для установки значения **msg_qbytes** больше, чем **MSGMNB**.

	 	![[Pasted image 20220825205326.png]]
- **IPC_RMID** (удалить очередь)
	- Немедленно удалить очередь сообщений и связанную с ним структуру данных, "разбудив" все процессы, ожидающие записи или чтения этой очереди (при этом функция возвращает ошибку, а переменная **errno** приобретает значение **EIDRM**). Вызывающий процесс должен иметь соответствующие (вероятнее всего для root) привилегии или его действующий идентификатор пользователя должен соответствовать создателю или владельцу очереди сообщений.


####

***
#### Zero_Link
- 
***
### Links
Up:

Down:


