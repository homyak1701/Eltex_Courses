Tags: #term_NM_TEST_O_КОМАНДА #term_ЛИНКОВЩИК #term_RET
***
### Визуальное представление

![[Pasted image 20220608213201.png]]

![[Pasted image 20220626222507.png]] ![[Pasted image 20220627160112.png]]

#### Регламентируется секциями:
1) TEXT - описывает машинные инструкции, которые реализует функции (main, func1, func2);

![[Pasted image 20220608214025.png]]

2) DATA - все важные инициилизированные переменные;

![[Pasted image 20220608214209.png]]

3) BSS - все неинициилизированные переменные (единственный слечай, когда переменные заполняются нулями);

Динамические - не защищены от переполненния внутри секции;

4) HEAP - динамическая куча - выделение памяти для программы в момент ее выполнения;
- Адреса переменных после линковки будут доступны после запуска программы, после чего идет заполнение виртуальных адресов;
- Эту секция определяет линковщик;

5) STACK - стек - формируется с началом работы программы;
- Здесь хранятся локальные переменные это связано с
		а) областью видимости локальных переменных. Так как они не используются во всей программе, то резервировать для них память не имеет смысла;
		б) линковщику не нужно знать виртуальные адреса этих переменных, так как STACK используются два регистра 
				- rsp - указывает на конец стека. С помощью него выделяется память;
				![[Pasted image 20220608221052.png]]
				- rbp - указывает на определенный адрес откуда начинавется область определения функции
				![[Pasted image 20220608221034.png]]
	- Память выспобождается с помощью функции ret. Она смещает текущий rsp назад на столько байт, сколько занимает функция;
	
	![[Pasted image 20220608222331.png]]
	
-   **PUSH** – кладёт элемент на вершину стека
-   **POP** – снимает элемент с вершины стека, перемещая вершину к следующему элементу

***
#### Zero_Link
- [[00 Регистр]]
***
### Links
Up:

Down:
[[4.3.2. виды адресаций процессора]] 
[[4.3.3. big-endian -- little-endian (порядок байт)]]

Heap - [[4.3.1. vector]]

[[4.3.4. управление динамической памятью]]
[[4.3.5. часть ядра в озу памяти си]]

[[4.3.6. memory map]]




