#### определение

**Плагин** - динамический программый модуль (бинарный файл) или функция из библиотеки (должна иметь опредленный формат), которые могут подключится к программе во время выполнения и расширить ее возможности без ее перекомпиляции;

Программный модуль также должен иметь некоторый доступ к хост-приложению, чтобы настраивать функции приложения с помощью подключаемых подулей;

#### определение из лекции

у разработчика плагина есть интерфейс, то есть он имеет какую-то перенную, которая хранит названия всех функций/прототипы функции библиотеки;

#### пример того, как делается плагин
- Этап 1 --> составить список инструкций формирования нового модуля для подключению его к библиотеке;

- Этап 2 --> формирования модуля;
	- реализация по правилам функций, которые возвращают определенный значения в зависимости от приложения;

- Этап 3 --> создания функции проверки валидности при подключении к запущенному приложению 
	- приложение запросит у модуля тип (?может быть структура?)
	--> на основе запроса приложение решит сделать его доступным для пользователя через соответствующую панель инструментов;

- Этап 4 --> создание механизма предоставление доступа модулю приложением, а именно создание отдельного модуля, который будет иметь в себе модуль с данным механизмом;
	- разработчик плагина мог связать модули, в которых существуют компоненты приложения;
	---М.В. --- если модулю нужно предоставить доступ к приложени, то модулю нужно предоставить **символы** приложения;

![[Pasted image 20220703131541.png]]


#### выполнение

Этап 1 -- загружать подключаемые модули во время выполнения. (динамическая загрузка динамических библиотек);

Этап 2 -- определите модули, относящиеся к предопределенному типу приложения (заранее прописывается структура, по которой нужно строить плгин);

Этап 3 -- Запрос минимальных функций и объектов из модуля (dlsym);

Этап 4 -- Обновите интерфейс приложения, чтобы пользователь мог использовать его с добавленной функциональностью через меню или значки;

