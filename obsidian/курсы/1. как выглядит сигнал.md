### теория сигналов
сигнал - один из вариантов IPC, чтобы один процесс мог сообщить другому о происхождения какого-либо события;

- посмотреть все сиглалы (kill -l)

[[1.3. raise()]] - посылает сигнал вызвавшему потоку;
[[1.4. kill()]] - посылает сигнал указанному процессу, всем членам указанной группы процессов или всем процессам в системе;
[[1.5. killpg()]] - посылает сигнал всем членам указанной группы процессов;
[[1.6. pthread_kil()]] - посылает сигнал указанному потоку в том же процессе, что и вызывающий
[[1.7. sigqueue()]] - посылает сигнал реального времени указанному процессу 
[[1.8. pause()]] - приостанавливает выполнение до тех пор, пока не будет пойман любой сигнал;
[[1.9. sigsuspend()]] - временно изменяет маску сигналов и приостанавливает выполнение до получения одного из незамаскированных сигналов;

### -- сигналы --
- SIGHUP - получаем в момент когда произошел разрыв по кон. порту;
- SIGINT - прерывание программы (ctrl + c) (можно переопределять);
- SIGQUIT - завершение программы; 
- SIGTRAP - посылается отладчиком, чтобы завершить программу;
- SIGABRT - приостановить программу аварийно, при этом делая генерациб coredump (corefile - снимок оперативной памяти вашей программы в формате для отладчика);
- SIGKILL - принудительное завершение программы (нельзя заблокировать/переопределить)
- SIGUSR1/SIGUSR2 - Определяемый пользователем сигнал 1/2
- SIGSEGV - ошибка сегментации;
- SIGPIPE - проблема закрытия канала;
- SIGALARM - на уровне ядра устанавливается таймер / сигнал таймера таймера будильника;
- SIGTERM - гладкое завершение (можно перехватить и переопределить так, чтобы программа завершилась подтирая все ресурсы)
- SIGCHILD - сигнал для родителя, когда завершает дочерний процесс;
- SIGCOUNT / SIGSTOP - используется диспетчером задач, чтобы остановить и продолжить выполнение программы;
- SIGIO - для синхронного ввода-вывода;

![[Pasted image 20220820141653.png]]
### -- сигнальная маска --

сигнальная маска - инструкция, которая хранится в потоке и определяет набор заблокированных сигналов

[[1.10. pthread_sigmask()]] - управление сигнальной маской потоком;
[[1.11. sigprocmask()]] - управление сигнальной маской процессом

### -- обработчик сигналов --
**_Обработчик сигнала_** - набор инструкций, которым передаются управление и определяет поведение процесса при отсылке ему этого сигнала. 
- term - завершение процесса;
- ign - игнорирование сигнала;
- core - завершение процесса и вывод дампа в файл. (corefile - снимок оператиной памяти вашей программы в формате для отладчика)
- stop - остановка процесса;
- cont - продолжение работы процесса, если он в данный момент остановлен

Каждому процессу назначаются обработчики «по умолчанию», в большинстве случаев приводящие к завершению процесса.

### --API обработчика сигнали--
изменение обработчика сигнала
[[1.1.sigaction()]]
[[1.2. signal()]]
1) выполнить действие по умолчанию
2) игнорировать сигнал
3) поймать сигнал обработчиком сигнала - функцией, задаваемым программистом
